<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • terrainr</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://docs.ropensci.org/terrainr/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">terrainr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.7.5.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/overview.html">A Gentle Introduction to terrainr</a>
    <a class="dropdown-item" href="../articles/unity_instructions.html">Importing terrainr tiles into Unity</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/terrainr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ropensci/terrainr/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2"><h2 class="pkg-version" data-toc-text="development version" id="terrainr-development-version">terrainr (development version)<a class="anchor" aria-label="anchor" href="#terrainr-development-version"></a></h2></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.5" id="terrainr-075">terrainr 0.7.5<a class="anchor" aria-label="anchor" href="#terrainr-075"></a></h2><p class="text-muted">CRAN release: 2023-10-04</p>
<ul><li><p>More tests are flagged to skip on CRAN, or when run offline</p></li>
<li><p><code>georeference_overlay</code> should give fewer useless warnings</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.4" id="terrainr-074">terrainr 0.7.4<a class="anchor" aria-label="anchor" href="#terrainr-074"></a></h2><p class="text-muted">CRAN release: 2023-02-16</p>
<ul><li>New query method is dramatically faster and less-error prone.</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.3" id="terrainr-073">terrainr 0.7.3<a class="anchor" aria-label="anchor" href="#terrainr-073"></a></h2><p class="text-muted">CRAN release: 2023-02-01</p>
<ul><li>Updated contours URL to new location</li>
<li>Removing dependencies on raster and rgdal</li>
<li>Fixed infinite loop when following two-stage APIs</li>
<li>Removed HRO, as the endpoint appears to have disappeared</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="terrainr-072">terrainr 0.7.2<a class="anchor" aria-label="anchor" href="#terrainr-072"></a></h2><p class="text-muted">CRAN release: 2022-12-07</p>
<ul><li>New features:<ul><li>Two new endpoints are available: <code>HRO</code>, which provides orthoimagery for non-CONUS US domains, and <code>USGSNAIPImagery</code>, which <em>only</em> returns NAIP (whereas <code>USGSNAIPPlus</code>, the default for <code>ortho</code>, will use <code>HRO</code> where appropriate).</li></ul></li>
<li>Improvements and bug fixes:<ul><li>Updated NAIP URL to its new home, which should reenable NAIP downloads.</li>
<li>Fixed warning in <code><a href="../reference/geom_spatial_rgb.html">geom_spatial_rgb()</a></code> about “dropped aesthetics”.</li>
<li>Fixed <code>govunits</code> test.</li>
</ul></li>
<li>Dependency changes:<ul><li>
<code>ggplot2</code> now requires a minimum of 3.4.0</li></ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="terrainr-071">terrainr 0.7.1<a class="anchor" aria-label="anchor" href="#terrainr-071"></a></h2><p class="text-muted">CRAN release: 2022-08-11</p>
<ul><li>Improvements and bug fixes:<ul><li>Redocumented package to stay on CRAN.</li>
<li>
<code>merge_rasters</code> no longer warns that options aren’t respected when using the fallback method before immediately passing said options to <code>gdalwarp</code>.</li>
<li>Starting to move error messages into <code>rlang</code> with string interpolation via <code>glue</code>.</li>
</ul></li>
<li>Dependency changes:<ul><li>
<code>rlang</code> and <code>glue</code> have been added to Imports</li>
<li>
<code>raster</code> now requires a minimum version of 3.5-19.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="terrainr-070">terrainr 0.7.0<a class="anchor" aria-label="anchor" href="#terrainr-070"></a></h2><p class="text-muted">CRAN release: 2022-05-05</p>
<ul><li>New features:<ul><li>
<code>make_unity</code> is a new function which uses the new <code>unifir</code> package to automatically create Unity scenes, no clicking necessary.</li>
<li>Internally, all calls to functions from {raster} have been replaced with calls to {terra}. This future-proofs the package against any coming deprecations and takes advantage of newer, faster terra code. This is not intended to be a breaking change; any methods that previously took {raster} objects should still work (and silently convert to {terra} under the hood). If you have any workflows impacted by this change, please file a bug report!</li>
</ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>make_manifest</code>, <code>transform_elevation</code>, and <code>transform_overlay</code> no longer error when providing non-standard side lengths; they now warn as intended.</li>
<li>
<code>make_manifest</code>, <code>transform_elevation</code>, and <code>transform_overlay</code> should no longer give warnings about nodata values in most cases. being clamped to 0.</li>
<li>Fixed some documentation, unused objects, restyled and removed lints.</li>
<li>
<code>transform_overlay</code> (and by extension, every Unity overlay importer) now tries to automatically guess the scale of the input raster. Values under 1 are scaled from 0-1, integers under 255 are scaled 0-255, and integers under 65535 are scaled 0-65536. The main effect of this is more realistic coloring when importing terrain. Floats above 1 won’t be affected.</li>
</ul></li>
<li>Dependency changes:<ul><li>
<code>terra</code> is now included as an Import (had been recursively imported through <code>raster</code> previously).</li>
<li>
<code>raster</code> and <code>rgdal</code> are now in Suggests (used temporarily in <code>Raster*</code> methods for <code>get_tiles</code> and <code>add_bbox_buffer</code>, until the new version of <code>raster</code> hits CRAN).</li>
</ul></li>
<li>Internal changes:<ul><li>
<code>raster_to_raw_tiles</code> is now a thin wrapper around the functions <code>transform_overlay</code> and <code>transform_elevation</code>. It is no longer tested; it will be removed entirely in the next release (see deprecation notice in terrainr 0.5.0).</li></ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="terrainr-061">terrainr 0.6.1<a class="anchor" aria-label="anchor" href="#terrainr-061"></a></h2><p class="text-muted">CRAN release: 2022-02-10</p>
<ul><li>Improvements and bug fixes:<ul><li>The README of version 0.6.0 has a disclaimer at the top stating that the package is an experimental build relying on as-of-yet unreleased packages. This is not true. This release removes that language. Otherwise, this release is identical to version 0.6.0.</li></ul></li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="terrainr-060">terrainr 0.6.0<a class="anchor" aria-label="anchor" href="#terrainr-060"></a></h2><p class="text-muted">CRAN release: 2022-02-04</p>
<ul><li>New features:<ul><li>Two new functions, <code>transform_elevation</code> and <code>transform_overlay</code>, should now provide raster transformation functions that were possible with <code>raster_to_raw_tiles</code> but not with <code>make_manifest</code>. As an added bonus, the internal code to handle tiling is now dramatically simpler.</li></ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>make_manifest</code> will now overwrite any file at <code>importer_path</code>, in line with documented behavior. Previous versions would never overwrite <code>importer_path</code>.</li>
<li>
<code>merge_rasters</code>’ fallback method now runs much faster</li>
</ul></li>
<li>Dependency changes:<ul><li>
<code>gdalUtils</code> has been removed from dependencies following CRAN directions</li>
<li>
<code>rgdal</code> is now an explicit dependency (had previously been imported via <code>gdalUtils</code>)</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="terrainr-051">terrainr 0.5.1<a class="anchor" aria-label="anchor" href="#terrainr-051"></a></h2><p class="text-muted">CRAN release: 2022-01-04</p>
<ul><li>New features:<ul><li>A new endpoint, <code>ecosystems</code>, has been added to <code>get_tiles</code> and <code>hit_national_map_api</code>.</li></ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>merge_rasters</code> gains an argument, <code>overwrite</code>, which allows you to specify whether or not to overwrite <code>output_raster</code> if it exists. Previous versions expected you to pass “-overwrite” to <code>options</code>. If a file exists at <code>output_raster</code> and <code>overwrite</code> is FALSE, <code>merge_rasters</code> will throw an error.</li></ul></li>
<li>Dependency changes:<ul><li>
<code>sf</code> now has a minimum dependency of 1.0-5, to take advantage of an upstream bug fix (relating to <code>merge_rasters</code> overwrite)</li></ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="terrainr-050">terrainr 0.5.0.<a class="anchor" aria-label="anchor" href="#terrainr-050"></a></h2><p class="text-muted">CRAN release: 2021-08-05</p>
<ul><li>New features:<ul><li>A new function, <code>make_manifest</code>, now helps automate the import of terrain and imagery to Unity. It fully replaces <code>raster_to_raw_tiles</code> (see Deprecations below). Documentation updates are forthcoming.</li></ul></li>
<li>Deprecations:<ul><li>
<code>raster_to_raw_tiles</code> is now deprecated and will be removed in a future release (no earlier than 2022). Use <code>make_manifest</code> instead.</li>
<li>The method <code>get_tiles.list</code> is now deprecated and will be removed in a future release (unexported in Fall 2021, removed no earlier than 2022). Convert your list to an <code>sf</code> object instead.</li>
<li>The <code>bbox</code> argument to <code>hit_national_map_api</code> is now documented as “An object from [sf::st_bbox].” This is a change from the earlier options of a length 2 list or terrainr_bounding_box object. Those methods are currently still supported, but undocumented; they will be removed in a future release (no earlier than 2022).</li>
</ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>get_tiles</code> no longer mangles data with projected coordinates (via a fix to the internal function <code>split_bbox</code>). If for some reason you want the old behavior back, set the new argument <code>projected</code> to <code>FALSE</code> while providing projected data.</li>
<li>The documentation for <code>add_bbox_buffer</code> and <code>set_bbox_side_length</code> now specifies that they should only be used with geographic coordinate systems. If you use these functions with projected data, they will warn; this may be upgraded to an error in future versions.</li>
<li>The README images are now of beautiful Hyampom, California, a somewhat more appealing vista than the original Mt Marcy scene.</li>
<li>The “Import to Unity” vignette has been rewritten to use make_manifest, as has the overview vignette and other documentation.</li>
<li>Typos in the message <code>merge_rasters</code> gives when using the fallback method have been fixed.</li>
<li>
<code>merge_rasters</code> gains an argument <code>force_fallback</code> which, if TRUE, will use the older, slower method for merging tiles. This is not recommended, but is useful for testing.</li>
</ul></li>
<li>Internal changes:<ul><li>The slow removal of all <code>terrainr_*</code> custom classes marches on! These classes should no longer be present in any user-facing, non-deprecated code; the only functions still relying on custom classes are internal utilities and the <code>split_bbox</code> function responsible for tiling <code>get_tiles</code> requests.</li>
<li>
<code>split_bbox</code> should now run faster, particularly for large tile sets, as some nested loops have been vectorized.</li>
<li>Improvements to test coverage and CI.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="terrainr-041">terrainr 0.4.1<a class="anchor" aria-label="anchor" href="#terrainr-041"></a></h2><p class="text-muted">CRAN release: 2021-05-30</p>
<ul><li>Improvements and bug fixes:<ul><li>
<code>get_tiles</code> now displays a bulleted list of endpoints (again?), rather than a jumble of raw markdown</li>
<li>
<code>add_bbox_buffer</code> properly sets the CRS of the output when attempting to buffer geodesic coordinates.</li>
<li>Typo fixes to an error message in <code>combine_overlays</code>
</li>
</ul></li>
<li>Internal changes:<ul><li>Added <code>importFrom</code> tag to <code>terrainr-package.R</code> to silence R CMD CHECK NOTE.</li></ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="terrainr-040">terrainr 0.4.0<a class="anchor" aria-label="anchor" href="#terrainr-040"></a></h2><p class="text-muted">CRAN release: 2021-04-23</p>
<ul><li>Breaking changes:<ul><li>Three changes in how <code>vector_to_overlay</code> deals with missing CRS in <code>vector_data</code>:<ul><li>A new argument, <code>error_crs</code>, behaves just like <code>error_crs</code> in <code>add_bbox</code>: if <code>NULL</code>, the function will give a warning when assuming CRS; if <code>FALSE</code>, the function will assume a CRS silently, and if <code>TRUE</code>, the function will error if <code>vector_data</code> is missing a CRS.</li>
<li>
<code>target_crs</code> has been removed. <code>vector_data</code> will be given the CRS of <code>reference_raster</code> if it doesn’t have its own CRS, and will always be projected to the CRS of <code>reference_raster</code>.</li>
<li>
<code>error_crs</code> has been added to mirror <code>add_bbox_buffer</code>: if <code>NULL</code> and your input data has no CRS, <code>vector_to_overlay</code> will warn about assuming the raster CRS. Set to <code>TRUE</code> to error or <code>FALSE</code> to ignore the warning.</li>
</ul></li>
<li>NAIP imagery is now downloaded with <code>transparent = "false"</code> to minimize the number of times the backup method to <code>merge_rasters</code> (see below) is called. To restore the old behavior, set <code>transparent = "true"</code> in either <code>get_tiles</code> or <code>hit_national_map_api</code>.</li>
<li>
<code>get_tiles</code> will now infer <code>bboxSR</code> and <code>imageSR</code> from provided <code>sf</code> or <code>Raster</code> objects if not otherwise specified. To restore the old behavior, set <code>bboxSR</code> and <code>imageSR</code> to <code>4326</code> in <code>get_tiles</code> (or set your data’s CRS to 4326 before calling <code>get_tiles</code>).</li>
</ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>merge_rasters</code> can once again handle merging mixed-band rasters (such as NAIP images with and without alpha bands). At the moment this is using the older, slower implementation and will raise a warning. (<a href="https://github.com/ropensci/terrainr/issues/30" class="external-link">#30</a>, <a href="https://github.com/ropensci/terrainr/issues/32" class="external-link">#32</a>).</li></ul></li>
<li>Internal changes:<ul><li>Removed code to check for <code>ggplot2</code> from <code>vector_to_overlay</code> now that <code>ggplot2</code> is required</li>
<li>
<code>calc_haversine_distance</code> (not exported) now assumes it’s been provided with degrees. <code>coord_units</code> has been removed as an argument.</li>
<li>
<code>get_tiles.terrainr_bounding_box</code> has been removed; it should no longer be possible for users to have <code>terrainr_bounding_box</code> objects unless they were using non-exported functionality.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="terrainr-031">terrainr 0.3.1<a class="anchor" aria-label="anchor" href="#terrainr-031"></a></h2><p class="text-muted">CRAN release: 2021-02-23</p>
<ul><li>First CRAN submission!</li>
<li>This is the smallest of patch releases, with almost no user-facing changes.</li>
<li>Internal changes:<ul><li>Added rOpenSci reviewers to DESCRIPTION.</li>
<li>Changed USGS API link to new website.</li>
<li>Added rOpenSci badge to README.</li>
<li>Changed most PNG images to <em>slightly</em> smaller JPGs.</li>
<li>Edited URLs for new rOpenSci website.</li>
<li>Moved lifecycle badge href to new site.</li>
<li>Some small spelling issues have been fixed.</li>
<li>Added tags to non-exported point_to_distance and terrainr_bounding_box functions</li>
<li>Added single quotes around Unity in the DESCRIPTION</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="terrainr-030">terrainr 0.3.0<a class="anchor" aria-label="anchor" href="#terrainr-030"></a></h2>
<ul><li>Breaking changes:<ul><li>
<code>terrainr_*</code> classes have been effectively removed and are no longer exported. Functions which previously expected these objects now generally accept <code>sf</code> and <code>Raster</code> class objects instead. Functions which previously returned these objects now generally return <code>sf</code> objects instead (<a href="https://github.com/ropensci/terrainr/issues/24" class="external-link">#24</a>).</li>
<li>The list returned by <code>get_tiles</code> now uses the service names provided by the user, not the endpoint names. This means that <code>get_tiles(..., services = "elevation")</code> will now use the name <code>elevation</code> instead of <code>3DEPElevation</code>, and remain standard across versions (<a href="https://github.com/ropensci/terrainr/issues/12" class="external-link">#12</a>).</li>
<li>
<code>get_bbox</code> and <code>get_coordinate_bbox</code> have been removed. Functions that used to expect <code>terrainr_bounding_box</code> objects now accept objects of class <code>sf</code> or <code>raster</code> (<a href="https://github.com/ropensci/terrainr/issues/24" class="external-link">#24</a>).</li>
<li>
<code>add_bbox_buffer</code> loses the <code>divisible</code> argument. For precise control over side length, use <code>set_bbox_side_length</code> (which should be more accurate, if slightly more conservative, than the <code>divisible</code> system ever was) (<a href="https://github.com/ropensci/terrainr/issues/17" class="external-link">#17</a>).</li>
<li>
<code>convert_distance</code> has been removed (internally replaced by the <code>units</code> package) (<a href="https://github.com/ropensci/terrainr/issues/7" class="external-link">#7</a>).</li>
<li>
<code>merge_rasters</code> loses the <code>input_images</code> and <code>output_image</code> function, as most downloaded files are now already georeferenced. To recreate this functionality, georeference image tiles directly via <code>output &lt;- georeference_overlay(img_tiles, ref_tiles, tempfile(fileext = ".tif"))</code> and then provide <code>output</code> to <code>merge_rasters</code>.</li>
<li>A handful of utility functions are no longer exported:<ul><li><code>calc_haversine_distance</code></li>
<li><code>point_from_distance</code></li>
<li><code>rad_to_deg</code></li>
<li><code>deg_to_rad</code></li>
</ul></li>
</ul></li>
<li>New features:<ul><li>Two new functions, <code>geom_spatial_rgb</code> and <code>stat_spatial_rgb</code>, allow you to use RGB map tiles as backgrounds for further plotting.</li>
<li>
<code>calc_haversine_distance</code> gains an argument <code>coord_units</code> allowing it to handle coordinates in radians as well as degrees.</li>
</ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>georeference_overlay</code> provides <code>tempfile(fileext = ".tif")</code> as a default output location if no <code>output_file</code> is provided.</li>
<li>
<code>get_tiles</code> now tells you what tiles it’s retrieving, not retriving.</li>
</ul></li>
<li>Internal changes:<ul><li>
<code>calc_haversine_distance</code> has been internally simplified somewhat to reduce code duplication.</li>
<li>All <code>services</code> arguments to <code>hit_national_map_api</code> and <code>get_tiles</code> can now handle both base64 and binary returns, removing the need to manually categorize endpoints (54ad9fb).<ul><li>
<code>hit_national_map_api</code> auto-detects whether API endpoints are returning base64 or binary and handles them appropriately</li>
<li>
<code>get_tiles</code> now auto-detects whether <code>hit_national_map_api</code> is returning base64 or binary and writes to file appropriately.</li>
</ul></li>
<li>
<code>hit_national_map_api</code> is now more likely to fail with a human-friendly error message if API endpoints return a non-200 status (54ad9fb).</li>
<li>
<code>hit_national_map_api</code> (and by extension <code>get_tiles</code>) now register a user agent.</li>
</ul></li>
<li>Changes in dependencies:<ul><li>
<code>gdalUtilities</code> has been removed, with functionality replaced by <code>sf</code>.</li>
<li>
<code>rlang</code> has been removed, with functionality removed.</li>
<li>
<code>units</code> has been added.</li>
<li>
<code>ggplot2</code> has been moved to Imports (was previously in Suggests) due to the new <code>geom_spatial_rgb</code> and <code>stat_spatial_rgb</code> functions.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="terrainr-021">terrainr 0.2.1<a class="anchor" aria-label="anchor" href="#terrainr-021"></a></h2>
<ul><li>Improvements and bug fixes:<ul><li>The <code>transportation</code> endpoint has moved servers, and is now handled by the same function that handles DEMs and orthoimages</li></ul></li>
<li>Internal changes:<ul><li>The main branch of <code>terrainr</code> is now <code>main</code>
</li>
<li>Tests run on a schedule on Monday/Wednesday/Friday mornings, to alert to endpoint changes</li>
<li>Restyled code</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="terrainr-020">terrainr 0.2.0<a class="anchor" aria-label="anchor" href="#terrainr-020"></a></h2>
<ul><li>Breaking changes:<ul><li>
<code>merge_rasters</code> loses the argument <code>merge_raster</code>. For the “georeference a single image” use case, see the new <code>georeference_overlay</code> function.</li>
<li>
<code>get_tiles</code> gains an argument <code>resolution</code> (details below) between <code>side_length</code> and <code>services</code>. No functionality should be changed, but code with unnamed arguments to <code>services</code>, <code>verbose</code>, or <code>georeference</code> may be impacted.</li>
</ul></li>
<li>New features:<ul><li>A new family of functions for dealing with overlay creation:<ul><li>
<code>vector_to_overlay</code> lets users quickly produce image overlays from vector data.</li>
<li>
<code>georeference_overlay</code> replaces the use of merge_raster for creating single-file georeferenced overlay files.</li>
<li>
<code>combine_overlays</code> lets users, well, combine overlays into a single image</li>
</ul></li>
<li>
<code>get_tiles</code> gains an argument, <code>resolution</code>, specifying the number of meters each pixel should represent (so higher images result in smaller downloads).</li>
<li>
<code>get_bbox</code> provides an S3 generic to create <code>terrainr_bounding_box</code> objects. In this version, that means users can use <code>get_bbox</code> to get bounding boxes from <code>sf</code> and <code>RasterLayer</code> objects, and it means adding methods will be easier going forward. The generic <code>get_bbox</code> method is equivalent to <code>get_coord_bbox</code>
</li>
<li>
<code>raster_to_raw_tiles</code> handles rectangles appropriately</li>
</ul></li>
<li>Improvements and bug fixes:<ul><li>
<code>get_tiles</code>, <code>raster_to_raw_tiles</code>, and <code>merge_rasters</code> are now much more conscientious about deleting tempfiles when they’re done with them.</li>
<li>
<code>merge_rasters</code> no longer fails when handed a mix of 3- and 4-band raster files. The current implementation will cast all 4 band rasters to 3 band images and then return a 3 band raster image.</li>
<li>The <code>output_image</code> argument to <code>merge_rasters</code> now has a default value of <code>tempfile(fileext = ".tif")</code> to be a little more friendly to users.</li>
<li>Arguments <code>lat</code> and <code>lng</code> to <code>get_bbox</code> (and <code>get_coord_bbox</code>) no longer need to be quoted – either the tidyverse-feeling NSE approach or the more standard quoted argument approach will work.</li>
</ul></li>
<li>Internal changes:<ul><li>All terrainr-provided functions now explicitly use the terrainr:: namespace.</li></ul></li>
<li>Changes in dependencies:<ul><li>
<code>sf</code> has been added as an explicit import due to <code>vector_to_overlay</code>. <code>sf</code> is required by <code>gdalUtilities</code>, also imported by this package, so this change should have no impact on users.</li>
<li>
<code>rlang</code> is added as a dependency to allow <code>lat</code> and <code>lng</code> be unquoted in <code>get_bbox</code>.</li>
<li>
<code>ggplot2</code> has been added to <code>Suggests</code> due to <code>vector_to_overlay</code>.</li>
<li>
<code>jpeg</code> and <code>tiff</code> have been added to <code>Suggests</code> due to <code>georeference_overlay</code>. I’d expect more image libraries to join this list over time.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="terrainr-010">terrainr 0.1.0<a class="anchor" aria-label="anchor" href="#terrainr-010"></a></h2>
<ul><li>New features:<ul><li>set_bbox_side_length wraps add_bbox_buffer to set each side of the bounding box to an equal length (within ~1% accuracy)</li></ul></li>
<li>First version released on GitHub</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9001" id="terrainr-0009001">terrainr 0.0.0.9001<a class="anchor" aria-label="anchor" href="#terrainr-0009001"></a></h2>
<ul><li>First development version</li>
<li>Supports retrieval from 3DEP and NAIP data sources</li>
<li>Supports export to Unity-friendly format</li>
<li>Functions in this version:<ul><li>Utility functions:<ul><li>add_bbox_buffer</li>
<li>calc_haversine_distance</li>
<li>convert_distance</li>
<li>deg_to_rad</li>
<li>get_bbox_centroid</li>
<li>get_coord_bbox</li>
<li>point_from_distance</li>
<li>rad_to_deg</li>
</ul></li>
<li>Data retrieval functions:<ul><li>get_tiles</li>
<li>hit_national_map_api</li>
</ul></li>
<li>Data processing functions:<ul><li>merge_rasters</li>
<li>raster_to_raw_tiles</li>
</ul></li>
<li>Classes and class utility functions:<ul><li>terrainr_bounding_box (class)</li>
<li>terrainr_coordinate_pair (class)</li>
<li>terrainr_bounding_box (creation utility)</li>
<li>terrainr_coordinate_pair (creation utility)</li>
<li>export_bounding_box</li>
<li>export_coord_pair</li>
</ul></li>
</ul></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

